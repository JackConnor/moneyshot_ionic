<ion-view view-title="Camera" ng-controller='cameraCtrl'>
  <ion-content class="">
    <div class="submitPhotoBacking" ng-if='submitPhotoModal'>
      <div class="submitPhotoModal">
        <div class="submitPhotoXHolder" ng-click='closeLoadingModal()' ng-if='!submitBar'>
          <i class='fa fa-times'></i>
        </div>
        <div class="photoNameHolder" ng-if='!submitBar'>
          <input class='photoNameInput' type="textarea" name="name" placeholder="Who and what is in these photos">
          <div class='submitPhotoName' ng-click='submitPhotoName()'>Add Name</div>
        </div>
        <div class="submitBarHolder" ng-if='submitBar'>
          <div class="submitPhotoModalContent">
            Sending Your Photos to MoPho
          </div>
          <div class="submitStatusBar">
            <div class="submitProgressBar"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="cameraModal" ng-show='cameraModal==true'>
      <img class='boom' src="" alt="" />
      <div class="cameraBack">
        <i class='fa fa-times longArrow' ng-click='leaveCamera()'></i>
      </div>
      <div class="cameraViewToggle">
        <i class='fa fa-repeat toggleCameraIcon' ng-click='toggleView($event)'></i>
      </div>
      <div class="cameraLensHolder">
        <canvas id="camera"></canvas>
        <canvas id="bigCamera" width="1500" height="1200"></canvas>
      </div>
      <div class="cameraButtonsContainer">
        <div class="cameraBlackLayer"></div>
        <div class="col-xs-4 cameraButtonCell">
          <div class="submitSetDiv" ng-click='submitModalOpen()'>
            Submit
          </div>
        </div>
        <div class="buttonDiv col-xs-4">
          <div class="takePhotoButton" ng-click='takeCordovaPicture()'></div>
        </div>
        <div class="col-xs-4 cameraButtonCell">
          <div class="outCameraModal" ng-click='getPic()'>
            Video
          </div>
        </div>
      </div>
    </div>
    <div class="submitModal" ng-show='submitModalVar'>
      <div class="submitCropContainer">
        <div class="backToSubmit col-xs-6" ng-click='backToSubmit()'>
          Back
        </div>
        <div class="cropPhoto col-xs-6" ng-click='cropAway()'>
          Crop
        </div>
        <div class="cropHolder">

        </div>
      </div>
      <div class="submitModalContainer">
        <div class="submitModalTabHolder">
          <div class="backToPhotos col-xs-4" ng-click='backToPhotos()'>
            Back
          </div>
          <div class="submitButton col-xs-4" ng-click='submitAllPhotos(mediaCache)'>
            Submit Photos
          </div>
          <div class="submitDelete col-xs-4" ng-click='deletePhotos()'>
            Delete Selected
          </div>
        </div>
        <div class="submitRepeat">
          <div class="submitCell col-xs-6" ng-repeat='media in mediaCache'>
            <div class="circleHolder col-xs-6" ng-click='selectSubmitted($event, $index)'>
              <div class="circleBlack"></div>
              <i class="fa fa-circle-thin" ></i>
            </div>
            <!-- <div class="cropIconHolder" ng-click='cropPhoto(mediaCache[$index], $event, $index)' ng-if='media.type=="photo"'>
              <div class='fa fa-crop'></div>
            </div> -->
            <div class="submitCellImageHolder">
              <img class='submitPhoto submitPhoto{{$index}}' id='submit{{$index}}' src="{{media.link}}" ng-if='media.type=="photo"'/>
              <video id='submit{{$index}}'ng-if='media.type=="video"' poster='https://s-media-cache-ak0.pinimg.com/736x/8a/31/71/8a3171fc490597cf02e89d7ad1fc4e35.jpg'>
                <source ng-src="{{media.link}}" type="video/mp4">
                  (Your Browser Doesn't Support Video)
              </video>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="cameraBackground">
      <div class="shootButton" ng-click='takePicture()'>
        Shoot<br>some<br>MoPhos
      </div>
      <div class="shootButton" ng-click='getPic()'>
        Film<br>some<br>MoPhos
      </div>
      <div class="submitButton col-xs-4 col-xs-offset-8" ng-click='openSubmitModal()'>
        Submit Your Photos
      </div>
    </div> -->
  </ion-content>
</ion-view>
